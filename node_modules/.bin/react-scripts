#!/bin/sh

# Vercel usa o diretório /vercel
basedir=$(dirname "$(readlink -f "/vercel/workers/script/build.sh")")

# Verificar o sistema operacional para ajustar o caminho do diretório
case "$(uname -s)" in
    CYGWIN*|MINGW*|MSYS*)
        if command -v cygpath > /dev/null 2>&1; then
            basedir=$(cygpath -w "$basedir")
        fi
    ;;
esac

# Verificar se o executável node está presente no diretório base
if [ -x "$basedir/node" ]; then
  exec "$basedir/node" "$basedir/../react-scripts/bin/react-scripts.js" "$@"
else 
  exec node "$basedir/../react-scripts/bin/react-scripts.js" "$@"
fi
